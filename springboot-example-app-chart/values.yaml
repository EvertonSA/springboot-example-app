# Default values for springboot-example-app-chart.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

replicaCount: 1

image:
  repository: harbor.arakaki.in/project/springboot-example-app
  tag: a71465d7e888a0a402567b09da945565431d7b21
  pullPolicy: IfNotPresent

imagePullSecrets: [{"name": "regcred"}]

nameOverride: ""
fullnameOverride: ""

service:
  type: ClusterIP
  port: 80
  targetPort: 8080

canary:
  enabled: true
  # sometimes you need canary but you do need the analisys...
  skipAnalisys: false
  virtualService:
    enabled: false
    host:
  hpa:
    minReplicas: 1
    maxReplicas: 4
  # schedule interval
  interval: 1m
  # max number of failed metric checks before rollback
  threshold: 10
  # max traffic percentage routed to canary before rollout 
  maxWeight: 50
  # canary increment step
  stepWeight: 10

# ONLY ENABLE WHEN (CANARY IS FALSE) AND (EXTERNALACCESS IS FALSE)
virtualService:
  enabled: false
  host: backend-spring.arakaki.in

